{% extends('::admin.html.twig') %}

{% block body %}

	<div class="row-fluid">
		<div class="span12">
			{% for flashMessage in app.session.flashbag.get('info') %}
			    <div class="alert alert-info">
			    	<button class="close" data-dismiss="alert" type="button">×</button>
			        <strong>Notice</strong>
			        {{ flashMessage }}
			    </div>
			{% endfor %}
			{% for flashMessage in app.session.flashbag.get('error') %}
			    <div class="alert alert-error">
			    	<button class="close" data-dismiss="alert" type="button">×</button>
			        <strong>Error</strong>
			        {{ flashMessage }}
			    </div>
			{% endfor %}

			<table class="table table-striped table-bordered table-hover">
	            <thead>
	                <tr>
	                  	<th>
	                  		<h1 class="well no-margin">
	                  			Language Manager
	                  		</h1>
	                  	</th>
	                </tr>
	            </thead>
	        </table>
			<a href="{{ path('language_new') }}" class="btn btn-primary btn-small pull-right"><i class="icon icon-plus-sign icon-white"></i> New</a>

		    <div class="clear h20"></div>

			<table class="table table-striped table-bordered table-hover">
	            <thead>
	                <tr>
	                  	<th class="center-text">#</th>
	                  	<th>Title</th>
	                  	<th class="center-text">ISO</th>
	                  	<th class="center-text">Published</th>
	                  	<th class="center-text">Default</th>
	                  	<th class="center-text">Action</th>
	                </tr>
	            </thead>
	            <tbody>
	              	{% for language in languages %}
		              	<tr>
			                <td class="center-text">
			                  	{{ loop.index }}
			                </td>
		                  	<td>
		                  		<a href="{{ path('language_edit', {'id' : language.id }) }}">
		                  			{{ language.title }}
		                  		</a>
		                  	</td>
		                  	<td class="center-text">
		                  		{{ language.iso }}
		                  	</td>
		                  	<td class="center-text">
		                  		<a href="{{ path('language_publish', {'id' : language.id }) }}">
				                  	{% if language.published %}
				                  		<i class="icon-ok"></i>
				                  	{% else %}
				                  		<i class="icon-ban-circle"></i>
				                  	{% endif %}
			                  	</a>
			                </td>
		                  	<td class="center-text">
		                  		<a href="{{ path('language_default', {'id' : language.id }) }}">
			                  		{% if language.defaultLan %}
			                  			<i class="icon-ok"></i>
			                  		{% else %}
			                  			<i class="icon-ban-circle"></i>
			                  		{% endif %}
			                  	</a>
		                  	</td>
		                  	<td class="center-text">
		                  		<a href="{{ path('language_edit', {'id' : language.id }) }}"><i class="icon-pencil"></i></a>
		                  		<a href="{{ path('language_copy', {'id' : language.id }) }}"><i class="icon-file"></i></a>
		                  		<a href="{{ path('language_delete', {'id' : language.id }) }}"><i class="icon-trash"></i></a>
		                  	</td>
		                </tr>
					{% endfor %}
	            </tbody>
	        </table>
	    </div>
	</div>

{% endblock body %}
